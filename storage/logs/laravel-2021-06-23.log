[2021-06-23 18:23:32] local.INFO: Import is started {"context":{"shop":{"name":"www.lstr-shop.ru","url":"http://localhost:65003/test/test.xml"}}} 
[2021-06-23 18:49:51] local.INFO: Import is started {"context":{"shop":{"name":"www.lstr-shop.ru","url":"http://localhost:65003/test/test.xml"}}} 
[2021-06-23 18:50:57] local.ERROR: {"error":{"root_cause":[{"type":"index_not_found_exception","reason":"no such index [products]","resource.type":"index_or_alias","resource.id":"products","index_uuid":"_na_","index":"products"}],"type":"index_not_found_exception","reason":"no such index [products]","resource.type":"index_or_alias","resource.id":"products","index_uuid":"_na_","index":"products"},"status":404} {"context":{"shop":{"name":"www.lstr-shop.ru","url":"http://localhost:65003/test/test.xml"}},"exception":"[object] (Elasticsearch\\Common\\Exceptions\\Missing404Exception(code: 404): {\"error\":{\"root_cause\":[{\"type\":\"index_not_found_exception\",\"reason\":\"no such index [products]\",\"resource.type\":\"index_or_alias\",\"resource.id\":\"products\",\"index_uuid\":\"_na_\",\"index\":\"products\"}],\"type\":\"index_not_found_exception\",\"reason\":\"no such index [products]\",\"resource.type\":\"index_or_alias\",\"resource.id\":\"products\",\"index_uuid\":\"_na_\",\"index\":\"products\"},\"status\":404} at /home/kristinayudina/works/da-you.ru/www/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Connections/Connection.php:619)
[stacktrace]
#0 /home/kristinayudina/works/da-you.ru/www/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Connections/Connection.php(310): Elasticsearch\\Connections\\Connection->process4xxError(Array, Array, Array)
#1 /home/kristinayudina/works/da-you.ru/www/vendor/react/promise/src/FulfilledPromise.php(25): Elasticsearch\\Connections\\Connection->Elasticsearch\\Connections\\{closure}(Array)
#2 /home/kristinayudina/works/da-you.ru/www/vendor/guzzlehttp/ringphp/src/Future/CompletedFutureValue.php(55): React\\Promise\\FulfilledPromise->then(Object(Closure), NULL, NULL)
#3 /home/kristinayudina/works/da-you.ru/www/vendor/guzzlehttp/ringphp/src/Core.php(341): GuzzleHttp\\Ring\\Future\\CompletedFutureValue->then(Object(Closure), NULL, NULL)
#4 /home/kristinayudina/works/da-you.ru/www/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Connections/Connection.php(322): GuzzleHttp\\Ring\\Core::proxy(Object(GuzzleHttp\\Ring\\Future\\CompletedFutureArray), Object(Closure))
#5 /home/kristinayudina/works/da-you.ru/www/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Connections/Connection.php(220): Elasticsearch\\Connections\\Connection->Elasticsearch\\Connections\\{closure}(Array, Object(Elasticsearch\\Connections\\Connection), Object(Elasticsearch\\Transport), Array)
#6 /home/kristinayudina/works/da-you.ru/www/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Transport.php(105): Elasticsearch\\Connections\\Connection->performRequest('PUT', '/products/_mapp...', Array, '{\"products\":{\"p...', Array, Object(Elasticsearch\\Transport))
#7 /home/kristinayudina/works/da-you.ru/www/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Namespaces/AbstractNamespace.php(58): Elasticsearch\\Transport->performRequest('PUT', '/products/_mapp...', Array, Array, Array)
#8 /home/kristinayudina/works/da-you.ru/www/vendor/elasticsearch/elasticsearch/src/Elasticsearch/Namespaces/IndicesNamespace.php(772): Elasticsearch\\Namespaces\\AbstractNamespace->performRequest(Object(Elasticsearch\\Endpoints\\Indices\\Mapping\\Put))
#9 /home/kristinayudina/works/da-you.ru/www/vendor/babenkoivan/scout-elasticsearch-driver/src/Console/ElasticUpdateMappingCommand.php(57): Elasticsearch\\Namespaces\\IndicesNamespace->putMapping(Array)
#10 [internal function]: ScoutElastic\\Console\\ElasticUpdateMappingCommand->handle()
#11 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(32): call_user_func_array(Array, Array)
#12 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/Util.php(36): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#13 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(90): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#14 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(34): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#15 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/Container.php(592): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#16 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Console/Command.php(134): Illuminate\\Container\\Container->call(Array)
#17 /home/kristinayudina/works/da-you.ru/www/vendor/symfony/console/Command/Command.php(255): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#18 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Console/Command.php(121): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Illuminate\\Console\\OutputStyle))
#19 /home/kristinayudina/works/da-you.ru/www/vendor/symfony/console/Application.php(912): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Symfony\\Component\\Console\\Output\\BufferedOutput))
#20 /home/kristinayudina/works/da-you.ru/www/vendor/symfony/console/Application.php(264): Symfony\\Component\\Console\\Application->doRunCommand(Object(ScoutElastic\\Console\\ElasticUpdateMappingCommand), Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Symfony\\Component\\Console\\Output\\BufferedOutput))
#21 /home/kristinayudina/works/da-you.ru/www/vendor/symfony/console/Application.php(140): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Symfony\\Component\\Console\\Output\\BufferedOutput))
#22 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Console/Application.php(93): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Symfony\\Component\\Console\\Output\\BufferedOutput))
#23 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Console/Application.php(185): Illuminate\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArrayInput), Object(Symfony\\Component\\Console\\Output\\BufferedOutput))
#24 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(263): Illuminate\\Console\\Application->call('elastic:update-...', Array, NULL)
#25 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php(261): Illuminate\\Foundation\\Console\\Kernel->call('elastic:update-...', Array)
#26 /home/kristinayudina/works/da-you.ru/www/vendor/babenkoivan/scout-elasticsearch-driver/src/ElasticEngine.php(71): Illuminate\\Support\\Facades\\Facade::__callStatic('call', Array)
#27 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Support/Traits/EnumeratesValues.php(178): ScoutElastic\\ElasticEngine->ScoutElastic\\{closure}(Object(App\\Models\\Product), 0)
#28 /home/kristinayudina/works/da-you.ru/www/vendor/babenkoivan/scout-elasticsearch-driver/src/ElasticEngine.php(75): Illuminate\\Support\\Collection->each(Object(Closure))
#29 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/scout/src/Jobs/MakeSearchable.php(42): ScoutElastic\\ElasticEngine->update(Object(Illuminate\\Database\\Eloquent\\Collection))
#30 [internal function]: Laravel\\Scout\\Jobs\\MakeSearchable->handle()
#31 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(32): call_user_func_array(Array, Array)
#32 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/Util.php(36): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#33 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(90): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#34 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(34): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#35 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/Container.php(592): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#36 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Bus/Dispatcher.php(94): Illuminate\\Container\\Container->call(Array)
#37 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Bus\\Dispatcher->Illuminate\\Bus\\{closure}(Object(Laravel\\Scout\\Jobs\\MakeSearchable))
#38 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Laravel\\Scout\\Jobs\\MakeSearchable))
#39 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Bus/Dispatcher.php(98): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Queue/CallQueuedHandler.php(83): Illuminate\\Bus\\Dispatcher->dispatchNow(Object(Laravel\\Scout\\Jobs\\MakeSearchable), false)
#41 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Queue\\CallQueuedHandler->Illuminate\\Queue\\{closure}(Object(Laravel\\Scout\\Jobs\\MakeSearchable))
#42 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Laravel\\Scout\\Jobs\\MakeSearchable))
#43 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Queue/CallQueuedHandler.php(85): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#44 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Queue/CallQueuedHandler.php(59): Illuminate\\Queue\\CallQueuedHandler->dispatchThroughMiddleware(Object(Illuminate\\Queue\\Jobs\\SyncJob), Object(Laravel\\Scout\\Jobs\\MakeSearchable))
#45 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Queue/Jobs/Job.php(98): Illuminate\\Queue\\CallQueuedHandler->call(Object(Illuminate\\Queue\\Jobs\\SyncJob), Array)
#46 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Queue/SyncQueue.php(43): Illuminate\\Queue\\Jobs\\Job->fire()
#47 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Queue/Queue.php(46): Illuminate\\Queue\\SyncQueue->push(Object(Laravel\\Scout\\Jobs\\MakeSearchable), '', 'search')
#48 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Bus/Dispatcher.php(175): Illuminate\\Queue\\Queue->pushOn('search', Object(Laravel\\Scout\\Jobs\\MakeSearchable))
#49 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Bus/Dispatcher.php(158): Illuminate\\Bus\\Dispatcher->pushCommandToQueue(Object(Illuminate\\Queue\\SyncQueue), Object(Laravel\\Scout\\Jobs\\MakeSearchable))
#50 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Bus/Dispatcher.php(73): Illuminate\\Bus\\Dispatcher->dispatchToQueue(Object(Laravel\\Scout\\Jobs\\MakeSearchable))
#51 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Foundation/Bus/PendingDispatch.php(134): Illuminate\\Bus\\Dispatcher->dispatch(Object(Laravel\\Scout\\Jobs\\MakeSearchable))
#52 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php(391): Illuminate\\Foundation\\Bus\\PendingDispatch->__destruct()
#53 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/scout/src/Searchable.php(68): dispatch(Object(Laravel\\Scout\\Jobs\\MakeSearchable))
#54 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/scout/src/Searchable.php(42): App\\Models\\Product->queueMakeSearchable(Object(Illuminate\\Database\\Eloquent\\Collection))
#55 [internal function]: Illuminate\\Database\\Eloquent\\Collection->Laravel\\Scout\\{closure}()
#56 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Support/Traits/Macroable.php(111): call_user_func_array(Object(Closure), Array)
#57 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/scout/src/Searchable.php(139): Illuminate\\Support\\Collection->__call('searchable', Array)
#58 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/scout/src/ModelObserver.php(69): App\\Models\\Product->searchable()
#59 [internal function]: Laravel\\Scout\\ModelObserver->saved(Object(App\\Models\\Product))
#60 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Events/Dispatcher.php(388): call_user_func_array(Array, Array)
#61 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Events/Dispatcher.php(218): Illuminate\\Events\\Dispatcher->Illuminate\\Events\\{closure}('eloquent.saved:...', Array)
#62 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Concerns/HasEvents.php(188): Illuminate\\Events\\Dispatcher->dispatch('eloquent.saved:...', Array)
#63 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(734): Illuminate\\Database\\Eloquent\\Model->fireModelEvent('saved', false)
#64 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(705): Illuminate\\Database\\Eloquent\\Model->finishSave(Array)
#65 /home/kristinayudina/works/da-you.ru/www/app/Services/Import/ShopHandler/ProductProcessor.php(229): Illuminate\\Database\\Eloquent\\Model->save()
#66 /home/kristinayudina/works/da-you.ru/www/app/Services/Import/ShopHandler/ShopHandler.php(66): App\\Services\\Import\\ShopHandler\\ProductProcessor->save(Array)
#67 /home/kristinayudina/works/da-you.ru/www/app/Services/Import/Importer/ShopImporter.php(179): App\\Services\\Import\\ShopHandler\\ShopHandler->handle(Object(App\\Services\\Import\\YmlReader\\YmlReader))
#68 /home/kristinayudina/works/da-you.ru/www/app/Services/Import/Importer/ShopImporter.php(152): App\\Services\\Import\\Importer\\ShopImporter->run(Object(Closure))
#69 /home/kristinayudina/works/da-you.ru/www/app/Services/Locker/Locker.php(77): App\\Services\\Import\\Importer\\ShopImporter->App\\Services\\Import\\Importer\\{closure}()
#70 /home/kristinayudina/works/da-you.ru/www/app/Services/Import/Importer/ShopImporter.php(153): App\\Services\\Locker\\Locker->doLocked(Object(Closure))
#71 /home/kristinayudina/works/da-you.ru/www/app/Services/Import/Importer/ShopImporter.php(115): App\\Services\\Import\\Importer\\ShopImporter->safeRun(Object(Closure))
#72 /home/kristinayudina/works/da-you.ru/www/app/Console/Commands/Import/ShopImport.php(68): App\\Services\\Import\\Importer\\ShopImporter->import(Object(App\\Models\\Shop))
#73 [internal function]: App\\Console\\Commands\\Import\\ShopImport->handle(Object(App\\Services\\Repositories\\Shop\\ShopRepository), Object(App\\Services\\Import\\ShopHandler\\ProductProcessor), Object(App\\Services\\Import\\ShopHandler\\ProductProcessor\\SubProcessor\\ImagesProcessor), Object(App\\Services\\Import\\Importer\\ShopImporter))
#74 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(32): call_user_func_array(Array, Array)
#75 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/Util.php(36): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#76 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(90): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#77 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/BoundMethod.php(34): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Illuminate\\Foundation\\Application), Array, Object(Closure))
#78 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Container/Container.php(592): Illuminate\\Container\\BoundMethod::call(Object(Illuminate\\Foundation\\Application), Array, Array, NULL)
#79 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Console/Command.php(134): Illuminate\\Container\\Container->call(Array)
#80 /home/kristinayudina/works/da-you.ru/www/vendor/symfony/console/Command/Command.php(255): Illuminate\\Console\\Command->execute(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#81 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Console/Command.php(121): Symfony\\Component\\Console\\Command\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Illuminate\\Console\\OutputStyle))
#82 /home/kristinayudina/works/da-you.ru/www/vendor/symfony/console/Application.php(912): Illuminate\\Console\\Command->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#83 /home/kristinayudina/works/da-you.ru/www/vendor/symfony/console/Application.php(264): Symfony\\Component\\Console\\Application->doRunCommand(Object(App\\Console\\Commands\\Import\\ShopImport), Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#84 /home/kristinayudina/works/da-you.ru/www/vendor/symfony/console/Application.php(140): Symfony\\Component\\Console\\Application->doRun(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#85 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Console/Application.php(93): Symfony\\Component\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#86 /home/kristinayudina/works/da-you.ru/www/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(129): Illuminate\\Console\\Application->run(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#87 /home/kristinayudina/works/da-you.ru/www/artisan(37): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput))
#88 {main}
"} 
[2021-06-23 19:06:12] local.INFO: Import is started {"context":{"shop":{"name":"www.lstr-shop.ru","url":"http://localhost:65003/test/test.xml"}}} 
